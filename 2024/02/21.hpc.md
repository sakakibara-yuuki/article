# Arch Linuxの導入

友人に勧められてArch Linuxをはじめてみたら結構楽しかった。 
すべてを自分でセットアップする大変さながら、ある種の全能感のようなものをえることができた。 

セットアップでは非常に神経を尖らせてttyに向かう。まるで外科医だ。 

いつか今の環境をぶっ壊してまた新しい環境を作りたいと思っている。 
未来の外科医に向けて今回セットアップした内容を記す。 

## bootローダ(GRUB)の導入

### UEFI or BIOS ?
まずは自分のマザボがUEFIかBIOSのどちらに対応しているかを調べる。 
今回の自分の環境はUEFIだったのでUEFIという体で進める。  
使用している環境がBIOSの場合は以下のコマンドでも何も出ない。 

``` sh
cat /sys/firmware/efi/fw_platform_size
```

### ネット使える？

ネットが使えるかについて調べる。 
システムパッケージマネージャーで様々なパッケージをダウンロード・インストールしてくるが、 
これが使用できなければ先へ進めない。 
ethernetなら何の設定も無しで先へ進めることができる。

``` sh
ip link
ping archlinux.jp
```

### 時間は正確？
正直このコマンドの意味がよくわかっていない。 
> systemd-timesyncdが有効の場合、インターネットへの接続とともに時刻が同期される  
とあるが、時刻を同期(正しい時刻)を使用しなければならない理由がわからない 

``` sh
timedatectl status
```

---
[archlinux(日本語)](https://wiki.archlinux.jp/index.php/%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%82%AC%E3%82%A4%E3%83%89)

### パーティションの分割

パーティションにはその管理方法に２つの方法がある。MBRとGPTだ。
主な違いは様々ある。[^1][^2]
簡単に言ってしまえば、GPTのほうが新しいからGPTを使おう。

<details>
    <summary>
        MBRについて
    </summary>
    <div>
        MBRしか知らないのでMBRについて。
        MBRは(Master Boot Record) の略で上でMBRとGPTは管理方法ですといったが、より正確には
        MBRを用いた管理とGPTの２つがある。
        実際にパーティションを区切る際にに気づくと思うがディスクの先頭から自分の好きなようにパーティションを区切れるわけではない。
        なぜか、先頭の数バイト(about 512Bi)が立ち入り禁止区域になった状態からしか区切れない。
        この先頭の512BiにはMBRが格納されている。
        MBRとは, ざっくり言ってしまえば、どの各パーティションがMBRからどのくらい先に、どのくらいの長さで存在しているかなどが書かれたテーブルとそのテーブルを元にどこに制御を移すのかについてかかれたプログラムのことだ。
    </div>
</details>


archlinuxの公式サイトでは`fdisk`を使用するとあるが、自分が使用したいのは

---
* GPTかMBRかの選択[^1](https://wiki.archlinux.jp/index.php/%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0#GPT_.E3.81.8B_MBR_.E3.81.AE.E9.81.B8.E6.8A.9E)
* MBRディスクとGPTディスクの違い[^2](https://pctrouble.net/storage/mbr_gpt.html)
